Doctrine, ORM-–ø–∞—Ç—Ç–µ—Ä–Ω, –æ—Ç–ª–∏—á–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Data Mapper –∏ Active Record
==========================================================================

[–°—Ç–∞—Ç—å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://symfony.com/doc/current/doctrine.html)

Doctrine ‚Äî –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–±–∏–±–ª–∏–æ—Ç–µ–∫), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ symfony-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
---------------------

–ù–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–≤–∞ –ø–∞–∫–µ—Ç–∞:
- `symfony/orm-pack` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ `doctrine/orm`, `doctrine/doctrine-bundle` (–±–∞–Ω–¥–ª –¥–ª—è symfony, –æ–±—ä—è–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) –∏ `doctrine/doctrine-migrations-bundle` (–±–∞–Ω–¥–ª –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π);
- `symfony/maker-bundle` (–¥–ª—è dev-–æ–∫—Ä—É–∂–µ–Ω–∏—è) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–¥–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–Ω—è—Ç—ã–º–∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º–∏.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```shell
composer require symfony/orm-pack
composer require --dev symfony/maker-bundle
```

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ë–î [PostgreSQL](https://www.postgresql.org), –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —ç—Ç–∞ –°–£–ë–î. –†–∞–∑–º–µ—Å—Ç–∏–º –µ—ë –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º —Å –ø–æ–º–æ—â—å—é docker-compose (–ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ `docker-compose.yml`):

```yaml
database:
  image: postgres:11-alpine
  ports:
    - 5432:5432
  volumes:
    - database:/var/lib/postgresql/data
  environment:
    POSTGRES_PASSWORD: webmaster
    POSTGRES_USER: webmaster
    POSTGRES_DB: symfony_learn
    PGDATA: /var/lib/postgresql/data/pgdata
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ (`docker-compose config`) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ (`docker-compose up -d`) –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ (—Å symfony flex) –¥–æ–±–∞–≤–∏–ª–∞ —Ç–∞–∫ –∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–π, —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–∞–Ω–¥–ª—ã –≤ `config/bundles.php` –∏ —Å—Ç—Ä–æ–∫—É –∫–æ–Ω–Ω–µ–∫—Ç–∞ (dsn) –≤ `.env`-—Ñ–∞–π–ª.

**–£–¥–∞–ª–∏—Ç–µ** –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL` –∏–∑ `.env`, –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–≤–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª `.env.local` —Å—Ç—Ä–æ–∫—É –∫–æ–Ω–Ω–µ–∫—Ç–∞ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–º–µ–Ω–∏ –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—è. –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```shell
# <driver>://<username>:<password>@<database host>/<database name>?<options>
DATABASE_URL=postgresql://webmaster:webmaster@127.0.0.1/symfony_learn?serverVersion=11&charset=utf8
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∑–¥–µ—Å—å –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∞–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä php **–ª–æ–∫–∞–ª—å–Ω–æ**, –∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–æ–∫—Ä—É–∂–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [–ª–æ–∫–∞–ª—å–Ω—ã–π symfony-—Å–µ—Ä–≤–µ—Ä](https://symfony.com/doc/current/setup/symfony_server.html). –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ [–∑–¥–µ—Å—å](Intro.md).

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î –º–æ–∂–Ω–æ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π 

```shell
bin/console doctrine:schema:validate
```

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —É –Ω–∞—Å –Ω–µ—Ç –ø–æ–∫–∞ –Ω–∏–∫–∞–∫–æ–π —Å—Ö–µ–º—ã –∏ –Ω–∏–∫–∞–∫–∏—Ö —Ç–∞–±–ª–∏—Ü –≤ –ë–î (–º—ã –∏—Ö –Ω–µ —Å–æ–∑–¥–∞–ª–∏), –Ω–æ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –ø–æ–Ω—è—Ç—å, —á—Ç–æ –Ω–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ä–Ω—ã –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

–°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (–º–æ–¥–µ–ª–µ–π), –º–∏–≥—Ä–∞—Ü–∏–∏
--------------------------------------

–ß—Ç–æ–±—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å—É—â–Ω–æ—Å—Ç–µ–π –ë–î –∏ —Å–≤—è–∑–µ–π, —Å–æ–∑–¥–∞–¥–∏–º (–∏ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –±—É–¥–µ–º —Ä–∞–∑–≤–∏–≤–∞—Ç—å) —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω—é –ø–∏—Ü—Ü–µ—Ä–∏–∏. –°—Ö–µ–º–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∞—è:

- **–ü–∏—Ü—Ü–∞** —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏:
    - –Ω–∞–∑–≤–∞–Ω–∏–µ
    - –æ–ø–∏—Å–∞–Ω–∏–µ
    - –¥–∏–∞–º–µ—Ç—Ä
    - —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏
- **–ß–∞—Å—Ç—å —Ä–µ—Ü–µ–ø—Ç–∞** ‚Äî —Ç–æ–ª—å–∫–æ –≤–µ—Å –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
- **–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –∏–∑ –∫–æ–º–ø–ª–µ–∫—Ç–∞ —ç—Ç–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –∏—Ç–æ–≥–µ —Å–æ—Å—Ç–æ–∏—Ç –ø–∏—Ü—Ü–∞

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ–º (–ø–æ–∫–∞) –≤ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–∏ –ø–∏—Ü—Ü—ã —Ç–µ—Å—Ç–æ, —Ä–∞–±–æ—Ç—É, —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—é –∏ –ø—Ä–æ—á–∏–µ –ø–æ–¥–æ–±–Ω—ã–µ –≤–µ—â–∏ ‚Äî –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ —Å–µ–π—á–∞—Å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–≤—è–∑–∏ –ë–î, –±–∞–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å —Ü–µ–Ω–Ω–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –±—É–¥–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–æ—Ç–æ–º.

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–∞–Ω—É–∞–ª –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞ (–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã). –í —ç—Ç–æ–º –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `bin/console make:entity`

```shell
bin/console make:entity Ingredient

 created: src/Entity/Ingredient.php
 created: src/Repository/IngredientRepository.php

 Entity generated! Now let's add some fields!
 You can always add more fields later manually or by re-running this command.

 New property name (press <return> to stop adding fields):
 > title

 Field type (enter ? to see all types) [string]:
 > string

 Field length [255]:
 > 255

 Can this field be null in the database (nullable) (yes/no) [no]:
 > no

 updated: src/Entity/Ingredient.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > description

 Field type (enter ? to see all types) [string]:
 > text

 Can this field be null in the database (nullable) (yes/no) [no]:
 > yes

 updated: src/Entity/Ingredient.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > price

 Field type (enter ? to see all types) [string]:
 > integer

 Can this field be null in the database (nullable) (yes/no) [no]:
 > no

 updated: src/Entity/Ingredient.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 >

  Success!

 Next: When you're ready, create a migration with php bin/console make:migration
```

–í—Å—ë –¥–æ–≤–æ–ª—å–Ω–æ –æ—á–µ–≤–∏–¥–Ω–æ ‚Äî –Ω–∞–¥–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∞–º. –°—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π —Å–æ —Å–≤—è–∑—è–º–∏:

```shell
bin/console make:entity ReceiptPart

 created: src/Entity/ReceiptPart.php
 created: src/Repository/ReceiptPartRepository.php

 Entity generated! Now let's add some fields!
 You can always add more fields later manually or by re-running this command.

 New property name (press <return> to stop adding fields):
 > weight

 Field type (enter ? to see all types) [string]:
 > integer

 Can this field be null in the database (nullable) (yes/no) [no]:
 > no

 updated: src/Entity/ReceiptPart.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > ingredient

 Field type (enter ? to see all types) [string]:
 > ?

Main types
  * string
  * text
  * boolean
  * integer (or smallint, bigint)
  * float

Relationships / Associations
  * relation (a wizard üßô will help you build the relation)
  * ManyToOne
  * OneToMany
  * ManyToMany
  * OneToOne

Array/Object Types
  * array (or simple_array)
  * json
  * object
  * binary
  * blob

Date/Time Types
  * datetime (or datetime_immutable)
  * datetimetz (or datetimetz_immutable)
  * date (or date_immutable)
  * time (or time_immutable)
  * dateinterval

Other Types
  * decimal
  * guid
  * json_array


 Field type (enter ? to see all types) [string]:
 > ManyToOne

 What class should this entity be related to?:
 > Ingredient

 Is the ReceiptPart.ingredient property allowed to be null (nullable)? (yes/no) [yes]:
 > no

 Do you want to add a new property to Ingredient so that you can access/update ReceiptPart objects from it - e.g. $ingredient->getReceiptParts()? (yes/no) [yes]:
 > yes

 A new property will also be added to the Ingredient class so that you can access the related ReceiptPart objects from it.

 New field name inside Ingredient [receiptParts]:
 > receiptParts

 Do you want to activate orphanRemoval on your relationship?
 A ReceiptPart is "orphaned" when it is removed from its related Ingredient.
 e.g. $ingredient->removeReceiptPart($receiptPart)

 NOTE: If a ReceiptPart may *change* from one Ingredient to another, answer "no".

 Do you want to automatically delete orphaned App\Entity\ReceiptPart objects (orphanRemoval)? (yes/no) [no]:
 > no

 updated: src/Entity/ReceiptPart.php
 updated: src/Entity/Ingredient.php
```

–í –º–æ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ `ingredient` –º—ã –∑–∞–¥–∞–ª–∏ —Ç–∏–ø —Å–≤—è–∑–∏ ‚Äî `ManyToOne`, —Ç–æ –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ **—á–∞—Å—Ç–µ–π** –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ **–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç**, —á—Ç–æ –ª–æ–≥–∏—á–Ω–æ ‚Äî —á–∞—Å—Ç–∏ —Ä–µ—Ü–µ–ø—Ç–∞ ¬´–æ–ª–∏–≤–∫–∏, 150–≥—Ä.¬ª –∏ ¬´–æ–ª–∏–≤–∫–∏, 50–≥—Ä.¬ª –±—É–¥—É—Ç —Å–≤—è–∑–∞–Ω—ã —Å –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –æ–ª–∏–≤–∫–∞–º–∏.

–¢–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –¥–µ–ª–∞–µ–º –∏ —Ç—Ä–µ—Ç—å—é —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –ø–∏—Ü—Ü—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `parts`, —Å–≤—è–∑–∞–Ω–Ω–æ–µ –∫–∞–∫ `OneToMany` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º) —Å —á–∞—Å—Ç—è–º–∏ —Ä–µ—Ü–µ–ø—Ç–∞.

### –ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å. 

–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —É –Ω–∞—Å –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –≤ –Ω—ç–π–º—Å–ø–µ–π—Å–µ `App\Entity`. –ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é –ë–î, —Ç–æ –µ—Å—Ç—å –µ–≥–æ –ø–æ–ª—è (—Å–≤–æ–π—Å—Ç–≤–∞) ‚Äî —ç—Ç–æ –ø–æ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —ç—Ç–∏—Ö –ø–æ–ª–µ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –ø–æ–ª—è —Å–æ —Å–≤—è–∑—è–º–∏, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –æ–Ω–∏ —É—Å—Ç—Ä–æ–µ–Ω—ã.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `config/packages/doctrine.yaml` —É–∫–∞–∑–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `orm.mappings`, –∏ –≤ –Ω–µ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –º–∞–ø–ø–∏–Ω–≥–∏ –∫–ª–∞—Å—Å–æ–≤ –≤ –ë–î (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω, –Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ), –∞ –≤ `config/services.yaml` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `src/Entity` –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ —Ç–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∫–∞–∫ —Å–µ—Ä–≤–∏—Å—ã.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã **–Ω–µ –º–æ–∂–µ–º** –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ —Å–µ—Ä–≤–∏—Å –≤ –∫–ª–∞—Å—Å —Å—É—â–Ω–æ—Å—Ç–∏, –Ω–æ –ø–æ –∏–¥–µ–µ –Ω–∞–º —ç—Ç–æ –∏ **–Ω–µ –Ω—É–∂–Ω–æ** ‚Äî –∫–ª–∞—Å—Å—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–º–µ—é—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∏ —ç—Ç–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ë–î –≤ –≤–∏–¥–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî¬†—ç—Ç–æ –ø–æ–ª–Ω–æ–ø—Ä–∞–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –≤ –ª—é–±—ã—Ö –º–µ—Å—Ç–∞—Ö –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç—å –∏—Ö –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ –º—ã –ø—Ä–æ–¥–µ–ª–∞–ª–∏, –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ —Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –≤ –Ω—ç–π–º—Å–ø–µ–π—Å–µ `App\Repository` ‚Äî —ç—Ç–æ, –∫–∞–∫ –Ω–µ—Å–ª–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö) –¥–ª—è –Ω–∞—à–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

–ó–¥–µ—Å—å –º—ã –≤–∂–∏–≤—É—é –≤–∏–¥–∏–º –æ—Ç–ª–∏—á–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ActiveRecord –∏ DataMapper. –í —Å–ª—É—á–∞–µ ActiveRecord –Ω–∞—à–∏ —Å—É—â–Ω–æ—Å—Ç–∏ (–º–æ–¥–µ–ª–∏) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª–∏—Å—å –±—ã –æ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ —Å–∞–º–∏ –Ω–µ—Å–ª–∏ –±—ã –≤ —Å–µ–±–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –≤ –Ω–∞—à–µ–º –∂–µ —Å–ª—É—á–∞–µ –º—ã –∏–º–µ–µ–º —á–∏—Å—Ç—ã–µ –∫–ª–∞—Å—Å—ã (—Ç–æ–ª—å–∫–æ —Å –≥–µ—Ç—Ç–µ—Ä–∞–º–∏ –∏ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏) –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –∏ –∑–∞–ø–∏—Å–∏ –∏—Ö.

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—É—Å—Ç—ã, –±–æ–ª–µ–µ —Ç–æ–≥–æ ‚Äî¬†–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ï—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∫–∞–∫–∏—Ö-—Ç–æ —Å–ª–æ–∂–Ω—ã—Ö (–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö) –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –≤ –µ—ë –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ `@ORM\Entity()`, –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è `repositoryClass`.

–í –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–µ —Å—Ç–æ–∏—Ç —É–≤–ª–µ–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞: –∫ –ø—Ä–∏–º–µ—Ä—É, –ø–æ–ª—É—á–µ–Ω–∏–µ ID –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ —Ç—Ä–∞–π—Ç, –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –≤–∞—à–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É—é—Ç –Ω–µ–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å—é –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ ‚Äî¬†—Å–¥–µ–ª–∞–π—Ç–µ –∫–ª–∞—Å—Å, –æ–ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ (–±–µ–∑ –≥–µ—Ç—Ç–µ—Ä–æ–≤ –∏ —Å–µ—Ç—Ç–µ—Ä–æ–≤), –∏ –¥–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `make:entity App\\Entity\\YourEntity --regenerate`. –ü—Ä–∏ —Ç–∞–∫–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–≤–æ–π—Å—Ç–≤. 

–≠—Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥–æ–π –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —á—Ç–æ-—Ç–æ –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–¥–µ–ª—è–º.

### –ú–∏–≥—Ä–∞—Ü–∏–∏

–î–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∏ –¥–∞–∂–µ –≤ –¥–≤—É—Ö –≤–∏–¥–∞—Ö: `make:migration` –∏ `doctrine:migrations:diff`. –î–µ–ª–∞—é—Ç –æ–Ω–∏ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ, –ø–µ—Ä–≤—ã–π (`make:migration`) –ø–æ —Å—É—Ç–∏ –¥–µ–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –≤—Ç–æ—Ä–æ–π.

–£ –Ω–∞—Å —Ç—Ä–∏ —Å—É—â–Ω–æ—Å—Ç–∏, –∞ –∑–Ω–∞—á–∏—Ç, –±—É–¥–µ—Ç —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã –ë–î. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–∏–≥—Ä–∞—Ü–∏–π –≤—Å–µ–≥–¥–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—á–∏—â–∞—Ç—å –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ó–∞–ø—É—Å—Ç–∏–º –∫–æ–º–∞–Ω–¥—ã:

```shell
bin/console cache:clear
[OK] Cache for the "dev" environment (debug=true) was successfully cleared.

bin/console make:migration

  Success!

 Next: Review the new migration "migrations/Version20200617041311.php"
 Then: Run the migration with php bin/console doctrine:migrations:migrate
 See https://symfony.com/doc/current/bundles/DoctrineMigrationsBundle/index.html
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `migrations` –±—ã–ª —Å–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `Version<date>`, –∫–æ—Ç–æ—Ä—ã–π, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏—Ç –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:

- –º–µ—Ç–æ–¥ `getDescription` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É. –ï–≥–æ —Å–ª–µ–¥—É–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –±—ã–ª–∞ –ø–æ–Ω—è—Ç–Ω–∞ —Å—É—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏. 
- –≤ —Å–ª—É—á–∞–µ —Å –ë–î PostgreSQL –≤ –º–µ—Ç–æ–¥–µ `down` –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –ª–∏—à–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ (—ç—Ç–æ –±–∞–≥) ‚Äî¬†`$this->addSql('CREATE SCHEMA public');`, —Ç–æ –µ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ–≤–µ—Ä–Ω–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î PostgreSQL –∏ —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –æ—Ç–∫–∞—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å public-—Å—Ö–µ–º—É. –≠—Ç–æ –Ω–µ —Ç–∞–∫, –∏ —ç—Ç—É —Å—Ç—Ä–æ–∫—É —Å–ª–µ–¥—É–µ—Ç —É–¥–∞–ª–∏—Ç—å.

–¢–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –æ—Ç–ª–∏—á–∏–µ –¥–≤–∏–∂–∫–æ–≤ MySQL –∏ PostgreSQL ‚Äî –≤ PostgreSQL –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é `SEQUENCE`.

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ —Ç–∞–º –Ω–∞—à–∞ –ë–î:

```shell
bin/console doctrine:schema:validate
Mapping
-------
 [OK] The mapping files are correct.
Database
--------
 [ERROR] The database schema is not in sync with the current mapping file.
```

–í—Å—ë, –∫–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å ‚Äî¬†—É –Ω–∞—Å –µ—Å—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–∞–ø–ø—è—Ç –ë–î, –Ω–æ –Ω–µ—Ç —Å–∞–º–∏—Ö —Ç–∞–±–ª–∏—Ü –ë–î. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π:

```shell
bin/console doctrine:migration:status
+----------------------+----------------------+------------------------------------------------------------------------+
| Configuration                                                                                                        |
+----------------------+----------------------+------------------------------------------------------------------------+
| Storage              | Type                 | Doctrine\Migrations\Metadata\Storage\TableMetadataStorageConfiguration |
|                      | Table Name           | doctrine_migration_versions                                            |
|                      | Column Name          | version                                                                |
|----------------------------------------------------------------------------------------------------------------------|
| Database             | Driver               | Doctrine\DBAL\Driver\PDOPgSql\Driver                                   |
|                      | Name                 | symfony_learn                                                          |
|----------------------------------------------------------------------------------------------------------------------|
| Versions             | Previous             | 0                                                                      |
|                      | Current              | 0                                                                      |
|                      | Next                 | DoctrineMigrations\Version20200617041311                               |
|                      | Latest               | DoctrineMigrations\Version20200617041311                               |
|----------------------------------------------------------------------------------------------------------------------|
| Migrations           | Executed             | 0                                                                      |
|                      | Executed Unavailable | 0                                                                      |
|                      | Available            | 1                                                                      |
|                      | New                  | 1                                                                      |
|----------------------------------------------------------------------------------------------------------------------|
| Migration Namespaces | DoctrineMigrations   | /Users/andrew/Sites/creative/Courses/symfony-learning/migrations       |
+----------------------+----------------------+------------------------------------------------------------------------+
```

–ö–∞–∫ –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, —É –Ω–∞—Å –µ—Å—Ç—å –æ–¥–Ω–∞ –Ω–µ–ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è. –ü—Ä–∏–º–µ–Ω–∏–º –µ—ë:

```shell
bin/console doctrine:migration:migrate -n
[notice] Migrating up to DoctrineMigrations\Version20200617041311
[notice] finished in 273.4ms, used 18M memory, 1 migrations executed, 10 sql queries
```

–ò –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```shell
bin/console doctrine:migration:status
+----------------------+----------------------+------------------------------------------------------------------------+
| Configuration                                                                                                        |
+----------------------+----------------------+------------------------------------------------------------------------+
| Storage              | Type                 | Doctrine\Migrations\Metadata\Storage\TableMetadataStorageConfiguration |
|                      | Table Name           | doctrine_migration_versions                                            |
|                      | Column Name          | version                                                                |
|----------------------------------------------------------------------------------------------------------------------|
| Database             | Driver               | Doctrine\DBAL\Driver\PDOPgSql\Driver                                   |
|                      | Name                 | symfony_learn                                                          |
|----------------------------------------------------------------------------------------------------------------------|
| Versions             | Previous             | 0                                                                      |
|                      | Current              | DoctrineMigrations\Version20200617041311                               |
|                      | Next                 | Already at latest version                                              |
|                      | Latest               | DoctrineMigrations\Version20200617041311                               |
|----------------------------------------------------------------------------------------------------------------------|
| Migrations           | Executed             | 1                                                                      |
|                      | Executed Unavailable | 0                                                                      |
|                      | Available            | 1                                                                      |
|                      | New                  | 0                                                                      |
|----------------------------------------------------------------------------------------------------------------------|
| Migration Namespaces | DoctrineMigrations   | /Users/andrew/Sites/creative/Courses/symfony-learning/migrations       |
+----------------------+----------------------+------------------------------------------------------------------------+

bin/console doctrine:schema:validate
Mapping
-------
 [OK] The mapping files are correct.
Database
--------
 [OK] The database schema is in sync with the mapping files.
```

–§–∏–∫—Å—Ç—É—Ä—ã (–¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ)
----------------------

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞—à–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ. –í —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ü–µ–ª—è—Ö –∏ —Ü–µ–ª—è—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω–æ –Ω–µ –Ω–∞ production-–ø–ª–æ—â–∞–¥–∫–∞—Ö!) –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î:

- `doctrine/doctrine-fixtures-bundle` (–∞–ª–∏–∞—Å `orm-fixtures`) ‚Äî –ø–∞–∫–µ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –ë–î —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö;
- `fzaninotto/faker` ‚Äî –ø–∞–∫–µ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω–Ω—ã—Ö

–£—Å—Ç–∞–Ω–æ–≤–∏–º –ø–∞–∫–µ—Ç—ã:

```shell
composer require --dev orm-fixtures fzaninotto/faker
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `orm-fixtures` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `App\DataFixtures\AppFixtures`, –∏ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî –æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–≤–µ—Ä–Ω–æ. –í –±–ª–æ–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Doctrine\Common\Persistence\ObjectManager`, –Ω–æ –Ω—É–∂–µ–Ω `use Doctrine\Persistence\ObjectManager` (–±–µ–∑ Common), —ç—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

–≠—Ç–∏–º –∫–ª–∞—Å—Å–æ–º –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏
------------------

–°—É—â–Ω–æ—Å—Ç–∏ –ë–î –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å —Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–µ–π. –¢–æ –µ—Å—Ç—å –º—ã, –∫ –ø—Ä–∏–º–µ—Ä—É, –º–æ–∂–µ–º –∏–º–µ—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ (–∑–∞ –æ—á–µ–Ω—å —Ä–µ–¥–∫–∏–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–º–µ—Å—Ç–µ. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫ –ø—Ä–∏–º–µ—Ä—É, –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π, –∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –µ–≥–æ –¥—Ä—É–∑—å—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –ø–∏—Ü—Ü—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –≤–º–µ—Å—Ç–µ —Å –Ω–µ–π, –∏ –Ω–∞ —ç—Ç–æ—Ç —Å–ª—É—á–∞–π –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `fetch="EAGER"`, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç ORM, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —ç—Ç—É —Å–≤—è–∑—å —á–µ—Ä–µ–∑ JOIN, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∏: –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã —Å–æ–∑–¥–∞–ª–∏ `ReceiptPart` (–Ω–µ –∑–∞–ø–∏—Å–∞–ª–∏ –µ–≥–æ), –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏ —ç—Ç–æ—Ç `ReceiptPart` –∫ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–π `Pizza` –∏ –ø—ã—Ç–∞–µ–º—Å—è –µ—ë —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.

–ü–æ–ª—É—á–∏–º –æ—à–∏–±–∫—É, –ø–æ—Ç–æ–º—É —á—Ç–æ ORM –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ ‚Äî –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã –ø–æ ID, –∏ –Ω–∏ —É –æ–¥–Ω–æ–π, –Ω–∏ —É –¥—Ä—É–≥–æ–π —ç—Ç–æ–≥–æ ID –Ω–µ—Ç.

–ù–∞ —ç—Ç–æ—Ç —Å–ª—É—á–∞–π —É —Å–≤—è–∑–∏ `OneToMany` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `cascade`, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `cascade={"persist"}`, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∫–∞—Å–∫–∞–¥–Ω–æ.
