Twig и шаблонизаторы. Форматирование ответов
============================================

[Статья официальной документации](https://symfony.com/doc/current/templates.html)

**Шаблонизатор** это пакет (набор классов), который позволяет организовывать вывод html-страниц. Стандартным шаблонизатором Symfony-фреймворка является [Twig](https://twig.symfony.com/).

Twig сделан в Symfony (SensioLabs) и для Symfony, ну и в целом вобрал в себя лучшие черты шаблонизаторов не только из php, но и из Java и Python. Отличается простым синтаксисом и огромными возможностями для расширения.

```html
<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
    <head>
        <title>Welcome to the desert of reality</title>
    </head>
    <body>
        <h1>{{ page_title }}</h1>

        {% if user.isLoggedIn %}
            Hello {{ user.name }}!
        {% endif %}

        {# ... #}
    </body>
</html>
```

Синтаксис
---------

Синтаксис вывода базируется на всего трёх конструкциях:

- `{{ … }}` — вывод переменной;
- `{% ... %}` — запуск команды / оператора, например, команды расширения шаблона, цикла или условного оператора;
- `{# ... #}` — комментарий. Не будет включен в итоговый html.

Функции, тэги и фильтры
-----------------------

Существует множество функций twig, и внедрить собственную можно очень просто. Здесь проще посмотреть на [официальную документацию](https://twig.symfony.com/doc/3.x/) и перечислить основные правила.

- **Функция** — ровно то, к чему мы привыкли. Получает что-то в качестве аргумента, возвращает результат. `range(3, 0)` вернет массив `[3, 2, 1, 0]`.
- **Тэг** — примерно то же, что конструкция языка. 
    ```html
    {% for user in users %}
      <li>{{ user.username|e }}</li>
    {% endfor %}
   ```
- **Фильтр** — изменение вывода переменной. Очень мощный механизм: позволяет по-разному форматировать вывод в зависимости от того, что нужно видеть. `{{ "now"|date("m/d/Y") }}`, `{{ 200.35|number_format }}`
- **Операторы** — математические операторы, `and`, `or`, `not`, операторы сравнения и прочее. Как в php.

Internationalization. Система переводов терминов
================================================

[Статья официальной документации](https://symfony.com/doc/current/translation.html)      
[Перевод с ICU-данными](https://symfony.com/doc/current/translation/message_format.html)

Под термином «Интернационализация» (`i18n`) понимается перевод сообщений, содержащихся в приложении. В шаблонах или классах — всевозможные приветствия, надписи на кнопках, ссылках и прочем, и в целом то, что написано **внутри кода**, не то, что размещают ваши пользователи и что попадает в итоге в базу данных. 
